{"ast":null,"code":"import _defineProperty from\"D:/Mystore/MyStore/storecom/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Mystore/MyStore/storecom/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Mystore/MyStore/storecom/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{AlertDescription,Alert,Input,AlertIcon,Container,FormControl,FormHelperText,Button,FormLabel,VStack}from\"@chakra-ui/react\";import axios from\"axios\";import{useState,useContext}from\"react\";// import { Form } from \"react-router-dom\";\nimport{loginFailureAction,loginSuccessAction}from'../Context/AuthContext/action';import{AuthContext}from\"../Context/AuthContext/AuthContextProvider\";import{Navigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useContext=useContext(AuthContext),state=_useContext.state,dispatch=_useContext.dispatch;var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),loginDetails=_useState2[0],setLoginDetails=_useState2[1];console.log('login',loginDetails);var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setLoginDetails(_objectSpread(_objectSpread({},loginDetails),{},_defineProperty({},name,value)));};var handleLogin=function handleLogin(){// dispatch(loginLoadingAction(true))\naxios({method:\"POST\",url:\"https://reqres.in/api/login\",data:loginDetails}).then(function(res){dispatch(loginSuccessAction(res.data.token));}).catch(function(){dispatch(loginFailureAction);});};if(state.isAuth){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}if(state.isError){return/*#__PURE__*/_jsx(Container,{width:{base:\"full\",sm:\"full\",md:\"container.xl\",lg:\"container.lg\"},centerContent:true,children:/*#__PURE__*/_jsxs(Alert,{status:\"error\",py:{base:4,sm:4,md:4,lg:6},my:{base:24,sm:24,md:28,lg:40},px:{base:1,sm:1,md:4,lg:6},children:[/*#__PURE__*/_jsx(AlertIcon,{}),/*#__PURE__*/_jsx(AlertDescription,{children:\"Something went wrong, please refresh,\"})]})});};var email=loginDetails.email,password=loginDetails.password;return/*#__PURE__*/_jsx(Container,{width:{base:\"full\",sm:\"full\",md:\"container.xl\",lg:\"container.lg\"},centerContent:true,children:/*#__PURE__*/_jsxs(VStack,{width:\"full\",boxShadow:\"lg\",py:{base:4,sm:4,md:4,lg:6},my:{base:24,sm:24,md:28,lg:40},px:{base:1,sm:1,md:4,lg:6},children:[/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Email address\"}),/*#__PURE__*/_jsx(Input,{name:\"email\",type:\"email\",value:email,onChange:handleChange}),/*#__PURE__*/_jsx(FormHelperText,{children:\"We'll never share your email.\"})]}),/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Password\"}),/*#__PURE__*/_jsx(Input,{name:\"password\",type:\"password\",value:password,onChange:handleChange}),/*#__PURE__*/_jsx(FormHelperText,{children:\"Don't Tell Anyone.\"}),/*#__PURE__*/_jsx(Button,{onClick:handleLogin,children:\"Login\"})]})]})});};export default Login;","map":{"version":3,"names":["AlertDescription","Alert","Input","AlertIcon","Container","FormControl","FormHelperText","Button","FormLabel","VStack","axios","useState","useContext","loginFailureAction","loginSuccessAction","AuthContext","Navigate","Login","state","dispatch","email","password","loginDetails","setLoginDetails","console","log","handleChange","e","target","name","value","handleLogin","method","url","data","then","res","token","catch","isAuth","isError","base","sm","md","lg"],"sources":["D:/Mystore/MyStore/storecom/src/Pages/Login.jsx"],"sourcesContent":["import { AlertDescription,\n  Alert,\n  Input,\n   AlertIcon,\n   Container,\n    FormControl,\n     FormHelperText,\n     Button,\n      FormLabel,\n       VStack } from \"@chakra-ui/react\";\nimport axios from \"axios\";\nimport {useState,useContext} from \"react\";\n// import { Form } from \"react-router-dom\";\nimport {\n  loginFailureAction,\n  loginSuccessAction,\n  \n} from '../Context/AuthContext/action';\nimport { AuthContext } from \"../Context/AuthContext/AuthContextProvider\";\nimport { Navigate } from \"react-router-dom\";\n\nconst Login = () => {\n  const {state,dispatch}=useContext(AuthContext);\n  const [loginDetails,setLoginDetails]=useState({\n    email:\"\",\n    password:\"\",\n  })\n  console.log('login',loginDetails);\n  const handleChange=(e)=>{\n    const{name,value}=e.target;\n    setLoginDetails({...loginDetails,[name]:value});\n  }\n  const handleLogin=()=>{\n    // dispatch(loginLoadingAction(true))\n    axios({\n      method:\"POST\",\n      url:`https://reqres.in/api/login`,\n      data:loginDetails,\n    })\n    .then((res)=>{\n     \n      dispatch(loginSuccessAction(res.data.token));\n    })\n    .catch(()=>{\n      dispatch(loginFailureAction)\n    })\n  }\n  if(state.isAuth){\n    return <Navigate to='/'/>\n  }\n  if(state.isError){\n    return (\n      <Container \n      width={{\n        base:\"full\",\n        sm:\"full\",\n        md:\"container.xl\",\n        lg:\"container.lg\",\n      }}\n      centerContent={true}\n      >\n        <Alert\n        status=\"error\"\n        py={{base:4,sm:4,md:4,lg:6}}\n        my={{base:24,sm:24,md:28,lg:40}}\n        px={{base:1,sm:1,md:4,lg:6}}\n        >\n        <AlertIcon/>\n        <AlertDescription>\n          Something went wrong, please refresh,\n          </AlertDescription>\n          </Alert>\n      </Container>\n        \n    )\n  };\n  const {email,password}=loginDetails;\n  return (\n    <Container\n    width={{\n      base:\"full\",\n      sm:\"full\",\n      md:\"container.xl\",\n      lg:\"container.lg\",\n    }}\n      centerContent={true}\n      >\n        <VStack\n        width=\"full\"\n        boxShadow=\"lg\"\n        py={{base:4,sm:4,md:4,lg:6}}\n        my={{base:24,sm:24,md:28,lg:40}}\n        px={{base:1,sm:1,md:4,lg:6}}\n        >\n          <FormControl>\n            <FormLabel>Email address</FormLabel>\n            <Input\n            name=\"email\"\n            type=\"email\"\n            value={email}\n            onChange={handleChange}\n            />\n            <FormHelperText>We'll never share your email.</FormHelperText>\n          </FormControl>\n      \n          <FormControl>\n            <FormLabel>Password</FormLabel>\n            <Input\n            name=\"password\"\n            type=\"password\"\n            value={password}\n            onChange={handleChange}\n            />\n            <FormHelperText>Don't Tell Anyone.</FormHelperText>\n            <Button  onClick={handleLogin}>Login</Button>\n          </FormControl>\n        </VStack>\n     \n\n    </Container>\n  )\n        \n  \n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
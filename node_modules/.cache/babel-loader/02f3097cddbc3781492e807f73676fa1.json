{"ast":null,"code":"import _toConsumableArray from \"D:/Mystore/MyStore/storecom/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"D:/Mystore/MyStore/storecom/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n// src/index.ts\nimport { trackElementSize } from \"@zag-js/element-size\";\nimport { useEffect, useLayoutEffect, useState } from \"react\";\nvar useSafeLayoutEffect = Boolean(globalThis == null ? void 0 : globalThis.document) ? useLayoutEffect : useEffect;\n\nfunction trackMutation(el, cb) {\n  var _ref;\n\n  var _a;\n\n  if (!el || !el.parentElement) return;\n  var win = (_ref = (_a = el.ownerDocument) == null ? void 0 : _a.defaultView) !== null && _ref !== void 0 ? _ref : window;\n  var observer = new win.MutationObserver(function () {\n    cb();\n  });\n  observer.observe(el.parentElement, {\n    childList: true\n  });\n  return function () {\n    observer.disconnect();\n  };\n}\n\nfunction useSizes(_ref2) {\n  var getNodes = _ref2.getNodes,\n      _ref2$observeMutation = _ref2.observeMutation,\n      observeMutation = _ref2$observeMutation === void 0 ? true : _ref2$observeMutation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      sizes = _useState2[0],\n      setSizes = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      count = _useState4[0],\n      setCount = _useState4[1];\n\n  useSafeLayoutEffect(function () {\n    var elements = getNodes();\n    var cleanups = elements.map(function (element, index) {\n      return trackElementSize(element, function (size) {\n        setSizes(function (sizes2) {\n          return [].concat(_toConsumableArray(sizes2.slice(0, index)), [size], _toConsumableArray(sizes2.slice(index + 1)));\n        });\n      });\n    });\n\n    if (observeMutation) {\n      var firstNode = elements[0];\n      cleanups.push(trackMutation(firstNode, function () {\n        setCount(function (count2) {\n          return count2 + 1;\n        });\n      }));\n    }\n\n    return function () {\n      cleanups.forEach(function (cleanup) {\n        cleanup == null ? void 0 : cleanup();\n      });\n    };\n  }, [count]);\n  return sizes;\n}\n\nfunction isRef(ref) {\n  return typeof ref === \"object\" && ref !== null && \"current\" in ref;\n}\n\nfunction useSize(subject) {\n  var _useSizes = useSizes({\n    observeMutation: false,\n    getNodes: function getNodes() {\n      var node = isRef(subject) ? subject.current : subject;\n      return [node];\n    }\n  }),\n      _useSizes2 = _slicedToArray(_useSizes, 1),\n      size = _useSizes2[0];\n\n  return size;\n}\n\nexport { useSize, useSizes };","map":{"version":3,"names":["trackElementSize","useEffect","useLayoutEffect","useState","useSafeLayoutEffect","Boolean","globalThis","document","trackMutation","el","cb","_a","parentElement","win","ownerDocument","defaultView","window","observer","MutationObserver","observe","childList","disconnect","useSizes","getNodes","observeMutation","sizes","setSizes","count","setCount","elements","cleanups","map","element","index","size","sizes2","slice","firstNode","push","count2","forEach","cleanup","isRef","ref","useSize","subject","node","current"],"sources":["D:/Mystore/MyStore/storecom/node_modules/@chakra-ui/react-use-size/dist/index.esm.js"],"sourcesContent":["// src/index.ts\nimport { trackElementSize } from \"@zag-js/element-size\";\nimport { useEffect, useLayoutEffect, useState } from \"react\";\nvar useSafeLayoutEffect = Boolean(globalThis == null ? void 0 : globalThis.document) ? useLayoutEffect : useEffect;\nfunction trackMutation(el, cb) {\n  var _a;\n  if (!el || !el.parentElement)\n    return;\n  const win = ((_a = el.ownerDocument) == null ? void 0 : _a.defaultView) ?? window;\n  const observer = new win.MutationObserver(() => {\n    cb();\n  });\n  observer.observe(el.parentElement, { childList: true });\n  return () => {\n    observer.disconnect();\n  };\n}\nfunction useSizes({\n  getNodes,\n  observeMutation = true\n}) {\n  const [sizes, setSizes] = useState([]);\n  const [count, setCount] = useState(0);\n  useSafeLayoutEffect(() => {\n    const elements = getNodes();\n    const cleanups = elements.map((element, index) => trackElementSize(element, (size) => {\n      setSizes((sizes2) => {\n        return [\n          ...sizes2.slice(0, index),\n          size,\n          ...sizes2.slice(index + 1)\n        ];\n      });\n    }));\n    if (observeMutation) {\n      const firstNode = elements[0];\n      cleanups.push(trackMutation(firstNode, () => {\n        setCount((count2) => count2 + 1);\n      }));\n    }\n    return () => {\n      cleanups.forEach((cleanup) => {\n        cleanup == null ? void 0 : cleanup();\n      });\n    };\n  }, [count]);\n  return sizes;\n}\nfunction isRef(ref) {\n  return typeof ref === \"object\" && ref !== null && \"current\" in ref;\n}\nfunction useSize(subject) {\n  const [size] = useSizes({\n    observeMutation: false,\n    getNodes() {\n      const node = isRef(subject) ? subject.current : subject;\n      return [node];\n    }\n  });\n  return size;\n}\nexport {\n  useSize,\n  useSizes\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}